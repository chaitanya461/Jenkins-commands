curl -LO "https://dl.k8s.io/release/$(curl Ls https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl" 

wget https://github.com/kubernetes/kops/releases/download/v1.25.0/kops-linux-amd64

chmod +x kops-linux-amd64 kubectl

mv kubectl /usr/local/bin/kubectl

mv kops-linux-amd64 /usr/local/bin/kops

copy paste all at a time if required

vi.bashrc

export PATH=$PATH:/usr/local/bin/

wq!

source .bashrc

aws s3api create-bucket-bucket reyaz-kops-testbkt123.k8s.local-region ap-south-1-create-bucket-configuration

LocationConstraint-ap-south-1

aws s3api put-bucket-versioning-bucket reyaz-kops-testbkt123.k8s.local-region ap-south-1-versioning-configuration Status-Enabled

export KOPS_STATE_STORE=s3://reyaz-kops-testbkt123.k8s.local

kops create cluster-name reyaz.k8s.local-zones ap-south-la-master-count=1--master-size t2.medium-node-count-2-node-size t2.micro

kops update cluster-name reyaz.k8s.local-yes--admin

kops validate cluster --wait 10m
--------+++----------------------------------------
For Future Reference

Suggestions:

* list clusters with: kops get cluster

edit this cluster with: kops edit cluster reyaz.k8s.local

edit your node instance group: kops edit ig-name-reyaz.k8s.local nodes-ap-south-la

edit your master instance group: kops edit ig-name-reyaz.k8s.local master-ap-south-la

-----------------------------------------------------

kubectl get namespace/ns

kubectl get pods

kubectl get namespace/ns

kubectl get pods

kubectl describe pod [By default pods are created in default namespace]

kubectl get pods -A [This will list all pods from all namespaces]

kubectl get pods-all-namespaces [This can also be used to get all pods from all namespaces]

kubectl get pods -n default [This will list pods wchich is in default namespace]

kubectl get pods -n kube-node-release no pods here

kubectl get pods -n kube-public no pods here

kubectl get pods -n kube-system [all kubeproxy, apiserver, controller

---------------------------------------------------------

Scale Out Worker Nodes :

kops edit ig-name-reyaz.k8s.local nodes-ap-south-la --> max size 4, min size 4

kops update cluster-name reyaz.k8s.local-yes--admin

kops rolling-update cluster --yes

See in AWS Console, 2 additional worker nodes got created

kubectl get nodes. [takes time to show]

Scalle out Master Nodes:

kops edit ig-name-reyaz.k8s.local master-ap-south-la --> max size 2, min size 2

kops update cluster-name reyaz.k8s.local-yes-admin

kops rolling-update cluster --yes

See in AWS Console, 1 additional Master nodes got created

kubectl get nodes [takes time to show]
